<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Core Commands | Semo</title>
    <meta name="description" content="A command line tool for building enterprise-level Node.js project command line systems">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.ByOUu36n.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DeyoxDAY.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DWUzMWnV.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DkZpVeXH.js">
    <link rel="modulepreload" href="/assets/guide_core-commands_index.md.BrlGED8W.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-054441f3><!--[--><!--]--><!--[--><span tabindex="-1" data-v-73f28450></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-73f28450>Skip to content</a><!--]--><!----><header class="VPNav" data-v-054441f3 data-v-09a04794><div class="VPNavBar" data-v-09a04794 data-v-c4a1298d><div class="wrapper" data-v-c4a1298d><div class="container" data-v-c4a1298d><div class="title" data-v-c4a1298d><div class="VPNavBarTitle has-sidebar" data-v-c4a1298d data-v-0131d6c8><a class="title" href="/" data-v-0131d6c8><!--[--><!--]--><!----><span data-v-0131d6c8>Semo</span><!--[--><!--]--></a></div></div><div class="content" data-v-c4a1298d><div class="content-body" data-v-c4a1298d><!--[--><!--]--><div class="VPNavBarSearch search" data-v-c4a1298d><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-c4a1298d data-v-8d26dfc3><span id="main-nav-aria-label" class="visually-hidden" data-v-8d26dfc3> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-8d26dfc3 data-v-451dcf82><!--[--><span data-v-451dcf82>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/" tabindex="0" data-v-8d26dfc3 data-v-451dcf82><!--[--><span data-v-451dcf82>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/usage/" tabindex="0" data-v-8d26dfc3 data-v-451dcf82><!--[--><span data-v-451dcf82>Usage</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="http://semo.js.org/typedoc/" target="_blank" rel="noreferrer" tabindex="0" data-v-8d26dfc3 data-v-451dcf82><!--[--><span data-v-451dcf82>Reference</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-c4a1298d data-v-591373de data-v-bb92d1f3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-bb92d1f3><span class="text" data-v-bb92d1f3><span class="vpi-languages option-icon" data-v-bb92d1f3></span><!----><span class="vpi-chevron-down text-icon" data-v-bb92d1f3></span></span></button><div class="menu" data-v-bb92d1f3><div class="VPMenu" data-v-bb92d1f3 data-v-e9e52b5c><!----><!--[--><!--[--><div class="items" data-v-591373de><p class="title" data-v-591373de>English</p><!--[--><div class="VPMenuLink" data-v-591373de data-v-59978ace><a class="VPLink link" href="/cn/guide/core-commands/" data-v-59978ace><!--[--><span data-v-59978ace>中文</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-c4a1298d data-v-c299e825><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-c299e825 data-v-bd66d326 data-v-db39ca25><span class="check" data-v-db39ca25><span class="icon" data-v-db39ca25><!--[--><span class="vpi-sun sun" data-v-bd66d326></span><span class="vpi-moon moon" data-v-bd66d326></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-c4a1298d data-v-c42e36b4 data-v-bb92d1f3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bb92d1f3><span class="vpi-more-horizontal icon" data-v-bb92d1f3></span></button><div class="menu" data-v-bb92d1f3><div class="VPMenu" data-v-bb92d1f3 data-v-e9e52b5c><!----><!--[--><!--[--><div class="group translations" data-v-c42e36b4><p class="trans-title" data-v-c42e36b4>English</p><!--[--><div class="VPMenuLink" data-v-c42e36b4 data-v-59978ace><a class="VPLink link" href="/cn/guide/core-commands/" data-v-59978ace><!--[--><span data-v-59978ace>中文</span><!--]--></a></div><!--]--></div><div class="group" data-v-c42e36b4><div class="item appearance" data-v-c42e36b4><p class="label" data-v-c42e36b4>Appearance</p><div class="appearance-action" data-v-c42e36b4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-c42e36b4 data-v-bd66d326 data-v-db39ca25><span class="check" data-v-db39ca25><span class="icon" data-v-db39ca25><!--[--><span class="vpi-sun sun" data-v-bd66d326></span><span class="vpi-moon moon" data-v-bd66d326></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c4a1298d data-v-c4df3eb3><span class="container" data-v-c4df3eb3><span class="top" data-v-c4df3eb3></span><span class="middle" data-v-c4df3eb3></span><span class="bottom" data-v-c4df3eb3></span></span></button></div></div></div></div><div class="divider" data-v-c4a1298d><div class="divider-line" data-v-c4a1298d></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-054441f3 data-v-4f94df82><div class="container" data-v-4f94df82><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-4f94df82><span class="vpi-align-left menu-icon" data-v-4f94df82></span><span class="menu-text" data-v-4f94df82>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-4f94df82 data-v-313193e8><button data-v-313193e8>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-054441f3 data-v-45e9486e><div class="curtain" data-v-45e9486e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-45e9486e><span class="visually-hidden" id="sidebar-aria-label" data-v-45e9486e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-e890d5c5><section class="VPSidebarItem level-0 collapsible has-active" data-v-e890d5c5 data-v-bcc3b12b><div class="item" role="button" tabindex="0" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><h2 class="text" data-v-bcc3b12b>Guide</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bcc3b12b><span class="vpi-chevron-right caret-icon" data-v-bcc3b12b></span></div></div><div class="items" data-v-bcc3b12b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/guide/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/guide/quickstart/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Quick Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/guide/core-commands/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Core Commands</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/guide/custom-commands/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Custom Commands</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/guide/config/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Configuration Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/guide/hook/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Hook Mechanism</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/guide/plugin/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Plugin Development</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-e890d5c5><section class="VPSidebarItem level-0 collapsible" data-v-e890d5c5 data-v-bcc3b12b><div class="item" role="button" tabindex="0" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><h2 class="text" data-v-bcc3b12b>Usage</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bcc3b12b><span class="vpi-chevron-right caret-icon" data-v-bcc3b12b></span></div></div><div class="items" data-v-bcc3b12b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/usage/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/usage/plugin/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Plugins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/usage/integration/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Project Integration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/usage/solution/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Solutions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/usage/distribution/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Distribution</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-e890d5c5><section class="VPSidebarItem level-0 collapsible" data-v-e890d5c5 data-v-bcc3b12b><div class="item" role="button" tabindex="0" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><h2 class="text" data-v-bcc3b12b>Community</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bcc3b12b><span class="vpi-chevron-right caret-icon" data-v-bcc3b12b></span></div></div><div class="items" data-v-bcc3b12b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/community/contrib/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>How to Contribute</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bcc3b12b data-v-bcc3b12b><div class="item" data-v-bcc3b12b><div class="indicator" data-v-bcc3b12b></div><a class="VPLink link link" href="/community/qa/" data-v-bcc3b12b><!--[--><p class="text" data-v-bcc3b12b>Frequently Asked Questions</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-054441f3 data-v-7a6de58c><div class="VPDoc has-sidebar has-aside" data-v-7a6de58c data-v-2fac68a6><!--[--><!--]--><div class="container" data-v-2fac68a6><div class="aside" data-v-2fac68a6><div class="aside-curtain" data-v-2fac68a6></div><div class="aside-container" data-v-2fac68a6><div class="aside-content" data-v-2fac68a6><div class="VPDocAside" data-v-2fac68a6 data-v-65ace98d><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-65ace98d data-v-c95a813a><div class="content" data-v-c95a813a><div class="outline-marker" data-v-c95a813a></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-c95a813a>On this page</div><ul class="VPDocOutlineItem root" data-v-c95a813a data-v-0e70bbf5><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-65ace98d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-2fac68a6><div class="content-container" data-v-2fac68a6><!--[--><!--]--><main class="main" data-v-2fac68a6><div style="position:relative;" class="vp-doc _guide_core-commands_" data-v-2fac68a6><div><h1 id="core-commands" tabindex="-1">Core Commands <a class="header-anchor" href="#core-commands" aria-label="Permalink to &quot;Core Commands&quot;">​</a></h1><h2 id="semo" tabindex="-1"><code>semo</code> <a class="header-anchor" href="#semo" aria-label="Permalink to &quot;`semo`&quot;">​</a></h2><p>Please note, <code>Semo</code> provides a default mechanism that can run any file conforming to the <code>Semo</code> command-line file syntax specification.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo command.js</span></span></code></pre></div><p>Usually, the commands we define do not have extensions like <code>.js</code>, so the file will be executed directly as a command. If you need to execute <code>.ts</code> style command files, a <code>ts</code> environment is required, please refer to the entry in the FAQ.</p><p>What is the significance of this mechanism? You can use <code>Semo</code> to define and execute script files, blurring the lines between commands and scripts; they are interconnected. First, you have a script, and if you find it&#39;s used frequently, give it a good name and encapsulate it as a plugin. Early on, a <code>semo-plugin-script</code> plugin was created for this purpose. Now, this default mechanism provides built-in support for script files. However, the <code>semo-plugin-script</code> plugin also includes a script boilerplate generator, a feature the <code>Semo</code> core does not intend to provide. Here, it&#39;s more inclined to be understood as a simplified way to rapidly develop command-line tools.</p><h2 id="semo-application" tabindex="-1"><code>semo application</code> <a class="header-anchor" href="#semo-application" aria-label="Permalink to &quot;`semo application`&quot;">​</a></h2><blockquote><p>alias: <code>app</code></p></blockquote><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This command has been moved to the <code>semo-plugin-application</code> plugin</p></div><p>By default, this command has no functionality. Its existence establishes a convention for business projects, suggesting that commands added to a business project should be written as subcommands of this command. The reason business projects can add subcommands to this command is by utilizing <code>Semo</code>&#39;s command extension mechanism.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> semo-plugin-application</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">semo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> command</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> application/test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --extend=application</span></span></code></pre></div><p>This way, you can add a test command to the project, which needs to be called using <code>semo application test</code>.</p><p>Using <code>semo application help</code>, you can see all top-level subcommands defined in the current business project. Because if a project implements too many commands with multiple levels, it&#39;s generally hard to remember all commands and parameters, so the help command is frequently executed.</p><h2 id="semo-cleanup" tabindex="-1"><code>semo cleanup</code> <a class="header-anchor" href="#semo-cleanup" aria-label="Permalink to &quot;`semo cleanup`&quot;">​</a></h2><blockquote><p>alias: clean</p></blockquote><p>This command is used to clean up some files generated internally by Semo, commonly including repl command history, shell command history, temporarily downloaded packages in repl, temporarily downloaded packages by the run command, and the global plugin directory.</p><p>Currently, it offers limited extension, only allowing the application directory to define cleanup directories. It does not support plugins adding cleanup directories, mainly for security considerations.</p><h2 id="semo-config" tabindex="-1"><code>semo config</code> <a class="header-anchor" href="#semo-config" aria-label="Permalink to &quot;`semo config`&quot;">​</a></h2><p>We can use this core built-in command to view and modify configuration files. It can operate on the current project&#39;s configuration file as well as the global configuration file.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo config &lt;op&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Manage rc config</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Commands:</span></span>
<span class="line"><span>  semo config delete &lt;configKey&gt;                                Delete configs by key                     [aliases: del]</span></span>
<span class="line"><span>  semo config get &lt;configKey&gt;                                   Get configs by key</span></span>
<span class="line"><span>  semo config list                                              List configs                   [Default] [aliases: ls, l]</span></span>
<span class="line"><span>  semo config set &lt;configKey&gt; &lt;configValue&gt; [configComment]     Set config by key</span></span>
<span class="line"><span>  [configType]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Options:</span></span>
<span class="line"><span>  --global, -g  For reading/writing configs from/to global yml rc file, default is false</span></span>
<span class="line"><span>  --watch       Watch config change, maybe only work on Mac</span></span></code></pre></div><p>Note that the format of <code>&lt;configKey&gt;</code> here is <code>a.b.c</code>, representing multi-level configuration. Additionally, it supports adding comments to the configuration set at the last level.</p><h2 id="semo-hook" tabindex="-1"><code>semo hook</code> <a class="header-anchor" href="#semo-hook" aria-label="Permalink to &quot;`semo hook`&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This command has been moved to the <code>semo-plugin-hook</code> plugin</p></div><p>The output of this command shows all available hooks in the current environment. All logic implementing these hooks can be executed. The output displays the hook name, description, and the module where the hook is declared:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Hook                         :  Package :  Description</span></span>
<span class="line"><span>  hook_beforeCommand           :  semo    :  Hook triggered before command execution.</span></span>
<span class="line"><span>  hook_afterCommand            :  semo    :  Hook triggered after command execution.</span></span>
<span class="line"><span>  hook_component               :  semo    :  Hook triggered when needing to fetch component</span></span>
<span class="line"><span>  hook_hook                    :  semo    :  Hook triggered in hook command.</span></span>
<span class="line"><span>  hook_repl                    :  semo    :  Hook triggered in repl command.</span></span>
<span class="line"><span>  hook_status                  :  semo    :  Hook triggered in status command.</span></span>
<span class="line"><span>  hook_create_project_template :  semo    :  Hook triggered in create command.</span></span></code></pre></div><p>Here you can see a special hook <code>hook_hook</code>. Implementing this hook allows declaring hooks. Any plugin can declare its own hooks for other commands to call, thereby influencing its own behavior. Business projects generally do not need to declare their own hooks unless the project heavily utilizes this mechanism to build its own business plugin system.</p><p>Also note that even if not declared, hooks can still be used as long as they are implemented. Declaring hooks here is just for transparency. How to declare and implement hooks will be explained in the hooks-related section.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>It&#39;s possible that in the future, undeclared hooks might not be allowed.</p></div><h2 id="semo-init" tabindex="-1"><code>semo init</code> <a class="header-anchor" href="#semo-init" aria-label="Permalink to &quot;`semo init`&quot;">​</a></h2><blockquote><p>alias: <code>i</code></p></blockquote><p>This command is used for initialization. It can implement two scenarios: initialization for a business project or initialization for a plugin. The difference between these two scenarios lies in slightly different directory structures.</p><p>In a business project, we default the <code>Semo</code> directory structure to the <code>bin</code> directory:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── .semorc.yml</span></span>
<span class="line"><span>├── bin</span></span>
<span class="line"><span>│   └── semo</span></span>
<span class="line"><span>│       ├── commands</span></span>
<span class="line"><span>│       ├── extends</span></span>
<span class="line"><span>│       ├── hooks</span></span>
<span class="line"><span>│       ├── plugins</span></span>
<span class="line"><span>│       └── scripts</span></span>
<span class="line"><span>└── package.json</span></span></code></pre></div><p>Whereas in a plugin project, we put all code into the <code>src</code> directory:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── .semorc.yml</span></span>
<span class="line"><span>├── src</span></span>
<span class="line"><span>│    ├── commands</span></span>
<span class="line"><span>│    ├── extends</span></span>
<span class="line"><span>│    ├── hooks</span></span>
<span class="line"><span>└── package.json</span></span></code></pre></div><p>The significance of this command is merely to save engineers a few seconds. That is, if you don&#39;t use this command, manually creating these directories and folders is also OK.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The structure and purpose of <code>.semorc.yml</code> will be explained in the Configuration Management section.</p></div><p>Additionally, if we really want to create a plugin, doing it through initialization is still too slow. It is recommended to use a plugin project template. The specific command is as follows:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo create semo-plugin-xxx --template=plugin</span></span></code></pre></div><p>Obviously, other project templates can also be used here. For the <code>create</code> command, refer to the introduction of the <code>create</code> command below.</p><h2 id="semo-create-name-repo-branch" tabindex="-1"><code>semo create &lt;name&gt; [repo] [branch]</code> <a class="header-anchor" href="#semo-create-name-repo-branch" aria-label="Permalink to &quot;`semo create &lt;name&gt; [repo] [branch]`&quot;">​</a></h2><blockquote><p>alias: <code>n</code></p></blockquote><p>This command is different from <code>generate</code> and <code>init</code>. It is used to initialize a new project directory. This project can be a business project or a plugin. This command has many parameters and some conventions:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ semo create help</span></span>
<span class="line"><span></span></span>
<span class="line"><span>semo create &lt;name&gt; [repo] [branch]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Create a create project from specific repo</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Options:</span></span>
<span class="line"><span>  --version      Show version number                                                                                       [boolean]</span></span>
<span class="line"><span>  --yes, -y      run npm/yarn init with --yes                                                             [Default: true]</span></span>
<span class="line"><span>  --force, -F    force download, existed folder will be deleted!</span></span>
<span class="line"><span>  --merge, -M    merge config with exist project folder!</span></span>
<span class="line"><span>  --empty, -E    force empty project, ignore repo</span></span>
<span class="line"><span>  --template, -T   select from default repos</span></span>
<span class="line"><span>  --add, -A      add npm package to package.json dependencies                                            [Default: false]</span></span>
<span class="line"><span>  --add-dev, -D  add npm package to package.json devDependencies                                         [Default: false]</span></span>
<span class="line"><span>  --init-semo, -i     init new project</span></span>
<span class="line"><span>  -h, --help     Show help information                                                                                     [boolean]</span></span></code></pre></div><p>The individual explanations are above. Below we illustrate with specific usage scenarios.</p><h3 id="initialize-from-any-code-repository" tabindex="-1">Initialize from any code repository <a class="header-anchor" href="#initialize-from-any-code-repository" aria-label="Permalink to &quot;Initialize from any code repository&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo create PROJECT_NAME PROJECT_REPO_URL main -f</span></span></code></pre></div><p>Here you can see that we can use the create command to download code from any git repository address. Any code repository can be our project template. <code>main</code> is the branch name, which defaults to <code>main</code>, so it can be omitted. <code>-f</code> means if the directory already exists, the original will be deleted first, then recreated.</p><p>Besides downloading the code, the create command also helps delete the original <code>.git</code> directory, reinitializes an empty <code>.git</code> directory, and automatically downloads all project dependencies.</p><h3 id="create-an-empty-project-not-based-on-any-project-template" tabindex="-1">Create an empty project, not based on any project template <a class="header-anchor" href="#create-an-empty-project-not-based-on-any-project-template" aria-label="Permalink to &quot;Create an empty project, not based on any project template&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo create PROJECT_NAME -yfie</span></span></code></pre></div><p>Here you can see a feature of <code>yargs</code>: short parameters can be chained together. This is equivalent to <code>-y -f -i -e</code>. That is, <code>-y</code> helps us automatically answer <code>yes</code> when creating <code>package.json</code>, <code>-f</code> forces deletion of existing directories, <code>-i</code> automatically executes <code>semo init</code> to initialize the project directory, and <code>-e</code> tells the command not to base it on a code repository or built-in template, but to declare an empty project.</p><p>The project directory structure is as follows:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── .semorc.yml</span></span>
<span class="line"><span>├── bin</span></span>
<span class="line"><span>│   └── semo</span></span>
<span class="line"><span>│       ├── commands</span></span>
<span class="line"><span>│       ├── extends</span></span>
<span class="line"><span>│       ├── hooks</span></span>
<span class="line"><span>│       ├── plugins</span></span>
<span class="line"><span>│       └── scripts</span></span>
<span class="line"><span>└── package.json</span></span></code></pre></div><h3 id="create-a-semo-plugin-directory" tabindex="-1">Create a <code>Semo</code> plugin directory <a class="header-anchor" href="#create-a-semo-plugin-directory" aria-label="Permalink to &quot;Create a `Semo` plugin directory&quot;">​</a></h3><p>If not based on a plugin template, we can manually create a basic plugin structure:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo create semo-plugin-[PLUGIN_NAME] -yfie</span></span></code></pre></div><p>As you can see, it&#39;s very similar to the above, except for the project name. There is a convention for the project name here: if the project name starts with <code>semo-plugin-</code>, it is considered to be initializing a <code>Semo</code> plugin, and <code>semo init --plugin</code> will be executed during initialization.</p><p>The project directory structure is as follows:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── .semorc.yml</span></span>
<span class="line"><span>├── package.json</span></span>
<span class="line"><span>└── src</span></span>
<span class="line"><span>    ├── commands</span></span>
<span class="line"><span>    ├── extends</span></span>
<span class="line"><span>    └── hooks</span></span></code></pre></div><h3 id="create-project-based-on-built-in-templates" tabindex="-1">Create project based on built-in templates <a class="header-anchor" href="#create-project-based-on-built-in-templates" aria-label="Permalink to &quot;Create project based on built-in templates&quot;">​</a></h3><p>If we execute the following command to create a project:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo create PROJECT_NAME --template</span></span></code></pre></div><p>You will see the following output:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>? Please choose a pre-defined repo to continue: (Use arrow keys)</span></span>
<span class="line"><span>❯ semo_plugin_starter [semo-plugin-starter, plugin]</span></span>
<span class="line"><span>❯ ...</span></span></code></pre></div><p>Here you can select a desired built-in template, meaning you don&#39;t need to actively enter the repository address. By default, there is only one plugin template, but you can use <code>hook_create_project_template</code> to inject other template addresses:</p><p>Hook implementation example, for more usage of hooks, please refer to the hooks related description</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> hook_create_project_template</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  demo_repo: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    repo: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;demo_repo.git&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    branch: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;main&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    alias: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;demo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>If you already know the template and identifier to use during initialization, you can specify it directly:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo create PROJECT_NAME --template=demo</span></span>
<span class="line"><span>semo create PROJECT_NAME --template=demo_repo</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>When creating a business project or plugin, it is not recommended to start from an empty project, because many engineering issues and technology selection issues need to be considered. It is recommended to summarize the commonly used scaffolding projects in your company and then initialize them in a unified way. For example, with the built-in plugin template, after initialization, you can directly write logic, then upload the code to <code>Github</code>, and then execute <code>npm version patch &amp;&amp; npm publish</code> to publish to the npm repository. How to develop a plugin and publish it to the <code>npm</code> repository will be documented separately. Also, note that the scaffolding project here can be implemented in any language.</p></div><p><code>--add</code> and <code>--add-dev</code> are used to specify new dependencies during initialization. <code>--merge</code> means not deleting the original project, but entering the project directory and then applying <code>--init</code>, <code>--add</code>, <code>--add-dev</code>.</p><h2 id="semo-generate-component" tabindex="-1"><code>semo generate &lt;component&gt;</code> <a class="header-anchor" href="#semo-generate-component" aria-label="Permalink to &quot;`semo generate &lt;component&gt;`&quot;">​</a></h2><blockquote><p>alias: <code>generate</code>, <code>g</code></p><p>This command is a component code generation command. Here, component means the layered and classified concepts abstracted from the development target. For example, the <code>Semo</code> core defines three concepts: plugins, commands, and scripts, so these three concepts have corresponding code generation subcommands. Similarly, <code>semo</code> plugins or integrated projects can create their own abstract concepts and provide supporting code generators. For example, a backend business project might have concepts like routes, controllers, models, database migration files, unit tests, etc. These concepts may not be universal across different projects, but within a single project, it&#39;s best to maintain a consistent style. Automatically generating boilerplate code can better maintain style consistency.</p></blockquote><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ semo generate help</span></span>
<span class="line"><span></span></span>
<span class="line"><span>semo generate &lt;component&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Generate component sample code</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Commands:</span></span>
<span class="line"><span>  semo generate command &lt;name&gt; [description]               Generate a command template</span></span>
<span class="line"><span>  semo generate plugin &lt;name&gt;                              Generate a plugin structure</span></span>
<span class="line"><span>  semo generate script &lt;name&gt;                              Generate a script file</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Options:</span></span>
<span class="line"><span>  --version   Show version number                                                                                          [boolean]</span></span>
<span class="line"><span>  -h, --help  Show help information                                                                                        [boolean]</span></span></code></pre></div><h3 id="extend-generate-command-to-add-subcommands" tabindex="-1">Extend <code>generate</code> command to add subcommands <a class="header-anchor" href="#extend-generate-command-to-add-subcommands" aria-label="Permalink to &quot;Extend `generate` command to add subcommands&quot;">​</a></h3><p>The method is the same as extending the <code>application</code> command above:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">semo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> command</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate/test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --extend=semo</span></span></code></pre></div><p>How to implement these code generation commands is not constrained here, because firstly, the built-in template string mechanism in ES6 can solve most problems, then <code>lodash</code>&#39;s <code>_.template</code> method is also quite flexible, and finally, just put the assembled boilerplate code in the desired location.</p><p>Since this part is based on <code>Semo</code>, related configurations are recommended to be placed in the <code>.semorc.yml</code> file, for example, configurations automatically generated include:</p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">commandDir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">src/commands</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">extendDir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">src/extends</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hookDir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">src/hooks</span></span></code></pre></div><p>As you can see, the <code>create</code> command generating default configurations merely defines some directories for automatic code generation and also provides a style for defining directory configurations. If you want to maintain configuration consistency, you can define other directories using the same style.</p><h2 id="semo-plugin" tabindex="-1"><code>semo plugin</code> <a class="header-anchor" href="#semo-plugin" aria-label="Permalink to &quot;`semo plugin`&quot;">​</a></h2><blockquote><p>alias: p</p></blockquote><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This command has been moved to the <code>semo-plugin-plugin</code> plugin</p></div><p>This command is used to install global plugins in the home directory, and can also be used to optimize the semo execution efficiency of the current project.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ semo plugin help</span></span>
<span class="line"><span>semo plugin</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Plugin management tool</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Commands:</span></span>
<span class="line"><span>  semo p install &lt;plugin&gt;    Install plugin                                                                 [aliases: i]</span></span>
<span class="line"><span>  semo p list                List all plugins                                                           [aliases: l, ls]</span></span>
<span class="line"><span>  semo p uninstall &lt;plugin&gt;  Uninstall plugin                                                              [aliases: un]</span></span></code></pre></div><h2 id="semo-repl-replfile" tabindex="-1"><code>semo repl [replFile]</code> <a class="header-anchor" href="#semo-repl-replfile" aria-label="Permalink to &quot;`semo repl [replFile]`&quot;">​</a></h2><blockquote><p>alias: <code>r</code></p></blockquote><p>REPL (read-eval-print-loop): An interactive interpreter. Every modern programming language probably has this type of interactive environment where we can write simple code as a tool for quickly understanding and learning language features. However, when REPL can be combined with frameworks or business projects, it can play a greater role.</p><h3 id="some-extensions-to-repl" tabindex="-1">Some extensions to <code>REPL</code> <a class="header-anchor" href="#some-extensions-to-repl" aria-label="Permalink to &quot;Some extensions to `REPL`&quot;">​</a></h3><p>During the development of Semo and this scaffold, Node&#39;s REPL did not yet support <code>await</code>. This mechanism was simulated here to trigger the execution of some promise or generator methods in the project. Through this capability, combined with the ability to inject some business code into <code>REPL</code>, we gain an additional execution method besides interface controllers, scripts, and unit tests, and this execution method is interactive.</p><h3 id="injecting-new-objects-into-repl" tabindex="-1">Injecting new objects into <code>REPL</code> <a class="header-anchor" href="#injecting-new-objects-into-repl" aria-label="Permalink to &quot;Injecting new objects into `REPL`&quot;">​</a></h3><p>Here you need to implement the built-in <code>hook_repl</code> hook and configure it in the hook directory declared in the business project: <code>hookDir</code>. The following code is for reference only.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/hooks/index.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> hook_repl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  semo: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    multiple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Then in the REPL environment, you can use it:</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>All information returned by <code>hook_repl</code> is injected into <code>Semo.hooks.application</code> in the REPL.</p></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt;&gt;&gt; Semo.hooks.application.add</span></span>
<span class="line"><span>[Function: add]</span></span>
<span class="line"><span>&gt;&gt;&gt; await Semo.add(1, 2)</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>&gt;&gt;&gt; Semo.hooks.application.multiple</span></span>
<span class="line"><span>[Function: multiple]</span></span>
<span class="line"><span>&gt;&gt;&gt; await Semo.multiple(3, 4)</span></span>
<span class="line"><span>12</span></span></code></pre></div><p>In actual business projects, common methods, utility functions, etc., from the project are injected. This is very helpful for development and subsequent troubleshooting. By default, <code>Semo</code> injects its own runtime object, such as Semo.argv.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>In practice, we have injected various company infrastructures like databases, caches, OSS, Consul, ElasticSearch, etc., written as plugins, making it easier for us to directly access the infrastructure.</p></div><h3 id="reloading-hook-files" tabindex="-1">Reloading hook files <a class="header-anchor" href="#reloading-hook-files" aria-label="Permalink to &quot;Reloading hook files&quot;">​</a></h3><p><code>.reload</code> or <code>Semo.reload()</code> can re-execute the <code>hook_repl</code> hook and inject the latest results into Semo. The purpose is to call the latest hook results without exiting the REPL environment. This only guarantees reloading and executing the hook file itself. If the hook internally uses <code>require</code>, it will still be cached. This part needs to be handled by the user, for example, by trying to delete <code>require.cache</code> before each <code>require</code>.</p><h3 id="temporarily-trying-npm-packages" tabindex="-1">Temporarily trying npm packages <a class="header-anchor" href="#temporarily-trying-npm-packages" aria-label="Permalink to &quot;Temporarily trying npm packages&quot;">​</a></h3><p>Under REPL, <code>Semo.import</code> supports temporarily downloading and debugging some packages. These debugging packages will not be downloaded into the current project&#39;s node_modules directory. (There is an equivalent method: Semo.require)</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt;&gt;&gt; let _ = Semo.import(&#39;lodash&#39;)</span></span>
<span class="line"><span>&gt;&gt;&gt; _.VERSION</span></span></code></pre></div><h4 id="using-internal-commands" tabindex="-1">Using internal commands <a class="header-anchor" href="#using-internal-commands" aria-label="Permalink to &quot;Using internal commands&quot;">​</a></h4><blockquote><p>Added in v1.5.14 <code>.require</code> and <code>.import</code> are equivalent and can quickly import some commonly used packages for debugging, for example:</p></blockquote><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt;&gt;&gt; .import lodash:_ dayjs:day</span></span></code></pre></div><p>The part after the colon is the alias, meaning the variable name to store it as after importing.</p><h3 id="extracting-object-properties-into-the-repl-environment" tabindex="-1">Extracting object properties into the REPL environment <a class="header-anchor" href="#extracting-object-properties-into-the-repl-environment" aria-label="Permalink to &quot;Extracting object properties into the REPL environment&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt;&gt;&gt; Semo.extract(Semo, [&#39;hooks.application.add&#39;, &#39;hooks.application.multiple&#39;])</span></span></code></pre></div><p>The potential risk of this operation is overwriting built-in objects in the REPL environment. However, the purpose and function of this API are to release specific objects, such as releasing all table models from an ORM into the database.</p><p>This operation is also supported in the configuration. For example, to inject the <code>Utils</code> object from the Semo object, you can configure it in the configuration file:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$plugin:</span></span>
<span class="line"><span>  semo:</span></span>
<span class="line"><span>    repl:</span></span>
<span class="line"><span>      hook: true</span></span>
<span class="line"><span>      extract:</span></span>
<span class="line"><span>        Semo:</span></span>
<span class="line"><span>          - hooks.application.add</span></span>
<span class="line"><span>          - hooks.application.multiple</span></span></code></pre></div><p>If you only want to inject <code>Utils</code>, it supports writing like this.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$plugin:</span></span>
<span class="line"><span>  semo:</span></span>
<span class="line"><span>    extract:</span></span>
<span class="line"><span>      Semo: [Utils]</span></span></code></pre></div><h3 id="introduction-to-the-semo-object" tabindex="-1">Introduction to the Semo Object <a class="header-anchor" href="#introduction-to-the-semo-object" aria-label="Permalink to &quot;Introduction to the Semo Object&quot;">​</a></h3><p>Initially, the plan was for the core and plugins to freely inject into the REPL environment. Later, it was felt to be uncontrollable, so it was decided that both the core and plugins can only be injected into the <code>Semo</code> object. Below is the structure of the Semo object:</p><ul><li>Semo.hooks To isolate information from various plugins, all injected information from plugins is injected here according to the plugin name, so different plugins do not interfere with each other.</li><li>Semo.argv This is the <code>yargs</code> argv parameter that enters the command. Sometimes it can be used to check if configuration merging is effective and to experiment with yargs parameter parsing.</li><li>Semo.repl The object instance of the current REPL environment.</li><li>Semo.Utils The core utility package, which includes several custom functions, etc.</li><li>Semo.reload Re-executes the <code>hook_repl</code> hook, using the latest hook file.</li><li>Semo.import Used for temporarily experimenting with some npm packages. Cache can be cleared using <code>semo cleanup</code>.</li><li>Semo.extract Used to release key-value pairs of internal objects into the current scope. Can be considered compensation for putting all hook injections into the <code>Semo.hooks</code> object.</li></ul><h3 id="three-methods-injected-into-the-global-scope" tabindex="-1">Three methods injected into the global scope <a class="header-anchor" href="#three-methods-injected-into-the-global-scope" aria-label="Permalink to &quot;Three methods injected into the global scope&quot;">​</a></h3><p>If you feel the default object hierarchy is too deep, you can configure or use parameters to inject directly into the REPL&#39;s global scope by default.</p><h4 id="method-1-extract-option" tabindex="-1">Method 1: <code>--extract</code> option <a class="header-anchor" href="#method-1-extract-option" aria-label="Permalink to &quot;Method 1: `--extract` option&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo repl --extract Semo.hooks</span></span></code></pre></div><h4 id="method-2-configuration-modify-semorc-yml" tabindex="-1">Method 2: Configuration: Modify <code>.semorc.yml</code> <a class="header-anchor" href="#method-2-configuration-modify-semorc-yml" aria-label="Permalink to &quot;Method 2: Configuration: Modify `.semorc.yml`&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$plugin:</span></span>
<span class="line"><span>  semo:</span></span>
<span class="line"><span>    extract: Semo.hooks.application</span></span></code></pre></div><h4 id="method-3-execute-semo-extract-in-repl" tabindex="-1">Method 3: Execute Semo.extract in REPL <a class="header-anchor" href="#method-3-execute-semo-extract-in-repl" aria-label="Permalink to &quot;Method 3: Execute Semo.extract in REPL&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt;&gt;&gt; Semo.extract(Semo, [&#39;hooks.application.add&#39;, &#39;hooks.application.multiple&#39;])</span></span></code></pre></div><p>Semo.extract is very flexible. You can specify which keys to export, or leave it blank to export all keys by default.</p><h3 id="support-for-executing-a-repl-file" tabindex="-1">Support for executing a repl file <a class="header-anchor" href="#support-for-executing-a-repl-file" aria-label="Permalink to &quot;Support for executing a repl file&quot;">​</a></h3><p>The purpose is also to execute logic and then inject some results into the REPL. The file is also a Node module and needs to conform to the specified format.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">argv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">argv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span></code></pre></div><p>Objects can be added either through the context or by returning an object.</p><p>What is the use of this mechanism? The main purpose is that during development and debugging, some debugging tasks intended for the REPL have many prerequisite logics. If entered line by line in the REPL, it&#39;s too cumbersome. Therefore, this method allows固化 (solidifying/fixing) the debugging logic.</p><p>The difference between a repl file and extract is that extract can only operate on existing objects, while a repl file can add any needed objects to the REPL. From this perspective, it is similar to hook_repl, but more convenient to operate, without needing to consider the format of hook implementation.</p><h2 id="semo-run-plugin-command" tabindex="-1"><code>semo run &lt;PLUGIN&gt; [COMMAND]</code> <a class="header-anchor" href="#semo-run-plugin-command" aria-label="Permalink to &quot;`semo run &lt;PLUGIN&gt; [COMMAND]`&quot;">​</a></h2><p>This command can achieve the effect of directly executing commands within remote plugin packages, similar to <code>pnpm create</code>.</p><p>For example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo run semo-plugin-serve serve</span></span></code></pre></div><p>Here it calls the <code>semo-plugin-serve</code> plugin to implement a simple HTTP service. We might feel that writing it this way is still not very convenient, so we can simplify it.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo run serve</span></span></code></pre></div><p>Isn&#39;t this much simpler? The reason <code>semo-plugin-</code> can be omitted here is that only semo series plugins are supported, not all npm packages, so it can be added internally. The <code>serve</code> command at the end is removed because the plugin implements a convention for this. The plugin is a normal node package that can expose methods externally. Here it exposes a handler method, and this handler method, in turn, calls the <code>serve</code> command within the package, because this command file is also a Node module. If the plugin contains multiple commands, this mechanism can be used to expose the most commonly used one, while others should still be passed explicitly. Also, note that some commands require parameters to be passed; here, all parameters and options need to be converted into options.</p><p>When it was a command before:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo serve [publicDir]</span></span></code></pre></div><p>When scheduling with the <code>run</code> command: Note that parameters from the plugin command need to be placed after <code>--</code>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo run serve -- --public-dir=.</span></span></code></pre></div><p>If your npm semo plugin package is also under a scope, you need to specify the scope when using run.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo run xxx --scope yyy</span></span></code></pre></div><p>Plugins run by the <code>run</code> command are definitely cached locally, just not in the global plugin directory <code>.semo/node_modules</code>, but in the <code>.semo/run_plugin_cache/node_modules</code> directory. By default, if it exists, the cached plugin will be used. If you want to update, you need to use the parameter --force (Note: original text says --upgrade, but example uses --force. Translating based on example usage.).</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo run serve --force</span></span></code></pre></div><p>Some plugins may depend on other plugins. If this is the case, you need to manually specify the dependent plugins to download them together. Why can&#39;t it be based on npm dependencies? Look at the example below:</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This feature introduced in v0.8.2</p></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo run read READ_URL --format=editor --with=read-extend-format-editor</span></span></code></pre></div><p>The <code>editor</code> plugin depends on <code>read</code> during development, but at runtime, the parameter specified by <code>read</code> is implemented by the <code>editor</code> plugin, so the dependency must be specified manually.</p><h2 id="semo-script-file" tabindex="-1"><code>semo script [file]</code> <a class="header-anchor" href="#semo-script-file" aria-label="Permalink to &quot;`semo script [file]`&quot;">​</a></h2><blockquote><p>alias: <code>scr</code></p></blockquote><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This command has been moved to the <code>semo-plugin-script</code> plugin</p></div><p>Many times we need to run some scripts. These scripts are outside the project service and need to be triggered actively by us. They might be for data migration, data export, batch data modification, or executing business logic, such as sending emails, SMS, notifications, etc. When faced with such requirements, we need to write scripts, but we encounter several problems:</p><ul><li>Where to put them</li><li>How to write them</li><li>How to parse script parameters</li></ul><p>Often these requirements are one-off or conditional, not very suitable for being written as commands, otherwise, there would be too many commands. In such scenarios, <code>Semo</code> provides a unified solution through this command.</p><h3 id="where-to-put-it" tabindex="-1">Where to put it <a class="header-anchor" href="#where-to-put-it" aria-label="Permalink to &quot;Where to put it&quot;">​</a></h3><p>There is a <code>scriptDir</code> in the configuration, defaulting to <code>src/scripts</code>. We default to putting scripts here because these scripts will not be accessed by the service, so there&#39;s no need to place them too close to the core project logic.</p><h3 id="how-to-write-how-to-parse-arguments" tabindex="-1">How to write, how to parse arguments <a class="header-anchor" href="#how-to-write-how-to-parse-arguments" aria-label="Permalink to &quot;How to write, how to parse arguments&quot;">​</a></h3><p>Of course, you can manually create scripts and trigger them with this command, but because scripts need names and have certain format requirements, it is recommended to use the <code>semo generate script</code> command to generate them.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo generate script test</span></span></code></pre></div><p>Automatically generated boilerplate code and filename:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/bin/semo/scripts/20191025130716346_test.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">yargs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // yargs.option(&#39;option&#39;, {default, describe, alias})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">argv</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Start to draw your dream code!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>As you can see, as a script, it doesn&#39;t start writing business logic right away, nor does it need to declare a <code>shebang</code> identifier. It only needs to define two methods: <code>builder</code> and <code>handler</code>. <code>builder</code> is used to declare the script&#39;s parameters, the format can refer to <code>yargs</code>. If the script doesn&#39;t need parameters, it doesn&#39;t actually need to be defined. Since it&#39;s automatically generated by the template, just leave it there in case it&#39;s needed. <code>handler</code> is the specific execution logic. The passed parameter is the parsed script parameters, which also includes the configuration from the project&#39;s <code>.semorc.yml</code>. You can see that <code>handler</code> supports <code>async</code>, so asynchronous operations can be performed here.</p><p>Therefore, the biggest difference between scripts and commands is actually the frequency of use and business positioning. A common layering we do is to define atomic commands and then orchestrate them in scripts.</p><h2 id="semo-shell" tabindex="-1"><code>semo shell</code> <a class="header-anchor" href="#semo-shell" aria-label="Permalink to &quot;`semo shell`&quot;">​</a></h2><blockquote><p>alias: <code>sh</code></p></blockquote><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This command has been moved to the <code>semo-plugin-shell</code> plugin</p></div><p>This command is very simple. Its purpose is to avoid typing the preceding <code>semo</code> every time you type a command, for example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo shell</span></span>
<span class="line"><span>&gt; status</span></span>
<span class="line"><span>&gt; hook</span></span>
<span class="line"><span>&gt; repl</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo shell --prefix=git</span></span>
<span class="line"><span>&gt; log</span></span>
<span class="line"><span>&gt; remote -v</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo: prefix=git</span></span>
<span class="line"><span>git: log</span></span></code></pre></div><h2 id="semo-status" tabindex="-1"><code>semo status</code> <a class="header-anchor" href="#semo-status" aria-label="Permalink to &quot;`semo status`&quot;">​</a></h2><blockquote><p>alias: <code>st</code></p></blockquote><p>The purpose of this command is simple: to see the current environment <code>Semo</code> is in, for example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ semo st</span></span>
<span class="line"><span>  version  :  1.8.17</span></span>
<span class="line"><span>  location :  ~/.nvm/versions/node/[VERSION]/lib/node_modules/semo</span></span>
<span class="line"><span>  os       :  macOS 10.15</span></span>
<span class="line"><span>  node     :  8.16.2</span></span>
<span class="line"><span>  npm      :  6.4.1</span></span>
<span class="line"><span>  hostname :  [MY_HOST]</span></span>
<span class="line"><span>  home     :  [MY_HOME]</span></span>
<span class="line"><span>  shell    :  [MY_SHELL]</span></span></code></pre></div><p>A hook, <code>hook_status</code>, is implemented here. Plugins that implement this hook can display relevant plugin information here. If a business project implements this hook, it can also display project information here.</p><h2 id="semo-completion" tabindex="-1"><code>semo completion</code> <a class="header-anchor" href="#semo-completion" aria-label="Permalink to &quot;`semo completion`&quot;">​</a></h2><p>The purpose of this command is to output a piece of <code>Shell</code> script. Placing it in <code>.bashrc</code> or <code>.zshrc</code> enables autocompletion for subcommands.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">eval</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">semo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> completion)&quot;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Since Semo scans commands defined by plugins at various levels in real-time during execution, if there are too many plugins and commands in the environment, Semo execution might become slow. In this case, it is not recommended to put the completion script in <code>.bashrc</code> or <code>.zshrc</code>.</p></div></div></div></main><footer class="VPDocFooter" data-v-2fac68a6 data-v-22ea5e77><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-22ea5e77><span class="visually-hidden" id="doc-footer-aria-label" data-v-22ea5e77>Pager</span><div class="pager" data-v-22ea5e77><a class="VPLink link pager-link prev" href="/guide/quickstart/" data-v-22ea5e77><!--[--><span class="desc" data-v-22ea5e77>Previous page</span><span class="title" data-v-22ea5e77>Quick Start</span><!--]--></a></div><div class="pager" data-v-22ea5e77><a class="VPLink link pager-link next" href="/guide/custom-commands/" data-v-22ea5e77><!--[--><span class="desc" data-v-22ea5e77>Next page</span><span class="title" data-v-22ea5e77>Custom Commands</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-054441f3 data-v-6411c423><div class="container" data-v-6411c423><p class="message" data-v-6411c423>Enterprise level CLI solution</p><!----></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"cn_community_contrib_index.md\":\"C3V9EDgR\",\"cn_community_qa_index.md\":\"D8qJZsHl\",\"cn_guide_config_index.md\":\"CuZZcZUh\",\"cn_guide_core-commands_index.md\":\"DxFCHQHX\",\"cn_guide_custom-commands_index.md\":\"DMc4v4mF\",\"cn_guide_hook_index.md\":\"D4V-vwMv\",\"cn_guide_index.md\":\"D4MYosaG\",\"cn_guide_plugin_index.md\":\"D9w6sv_f\",\"cn_guide_quickstart_index.md\":\"DibBL2g6\",\"cn_index.md\":\"BZydNByv\",\"cn_usage_distribution_index.md\":\"BE4yFn44\",\"cn_usage_index.md\":\"BiJTKkAI\",\"cn_usage_integration_index.md\":\"BoFNS0gN\",\"cn_usage_plugin_index.md\":\"H-zTAYTu\",\"cn_usage_solution_index.md\":\"C8WF5G6e\",\"community_contrib_index.md\":\"CDnytIx0\",\"community_qa_index.md\":\"DJyYtL_j\",\"guide_config_index.md\":\"GOhowRgD\",\"guide_core-commands_index.md\":\"BrlGED8W\",\"guide_custom-commands_index.md\":\"C_WU0vy9\",\"guide_hook_index.md\":\"DhKO8Q0H\",\"guide_index.md\":\"s2YzPk7c\",\"guide_plugin_index.md\":\"BFbeJbKX\",\"guide_quickstart_index.md\":\"B_OZphpq\",\"index.md\":\"mbHBHV0F\",\"usage_distribution_index.md\":\"CrHfbKjv\",\"usage_index.md\":\"CQSemEir\",\"usage_integration_index.md\":\"BtKJ_9Fl\",\"usage_plugin_index.md\":\"CtfqdbYW\",\"usage_solution_index.md\":\"4FVlWpqQ\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Semo\",\"description\":\"A command line tool for building enterprise-level Node.js project command line systems\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"}},\"locales\":{\"cn\":{\"label\":\"中文\",\"lang\":\"zh\",\"link\":\"/cn/\",\"themeConfig\":{\"footer\":{\"message\":\"企业级Node项目命令行体系建设规范\"},\"nav\":[{\"text\":\"首页\",\"link\":\"/cn/\"},{\"text\":\"指南\",\"link\":\"/cn/guide/\"},{\"text\":\"用法\",\"link\":\"/cn/usage/\"},{\"text\":\"参考\",\"link\":\"http://semo.js.org/typedoc/\"}],\"sidebar\":[{\"text\":\"基础\",\"collapsed\":false,\"items\":[{\"text\":\"介绍\",\"link\":\"/cn/guide/\"},{\"text\":\"快速上手\",\"link\":\"/cn/guide/quickstart/\"},{\"text\":\"核心命令\",\"link\":\"/cn/guide/core-commands/\"},{\"text\":\"自定义命令\",\"link\":\"/cn/guide/custom-commands/\"},{\"text\":\"配置管理\",\"link\":\"/cn/guide/config/\"},{\"text\":\"钩子机制\",\"link\":\"/cn/guide/hook/\"},{\"text\":\"插件开发\",\"link\":\"/cn/guide/plugin/\"}]},{\"text\":\"用法\",\"collapsed\":false,\"items\":[{\"text\":\"概述\",\"link\":\"/cn/usage/\"},{\"text\":\"插件\",\"link\":\"/cn/usage/plugin/\"},{\"text\":\"项目整合\",\"link\":\"/cn/usage/integration/\"},{\"text\":\"解决方案\",\"link\":\"/cn/usage/solution/\"},{\"text\":\"发行版\",\"link\":\"/cn/usage/distribution/\"}]},{\"text\":\"社区\",\"collapsed\":false,\"items\":[{\"text\":\"如何贡献\",\"link\":\"/cn/community/contrib/\"},{\"text\":\"常见问题\",\"link\":\"/cn/community/qa/\"}]}]}},\"root\":{\"label\":\"English\",\"lang\":\"en\",\"link\":\"/\",\"themeConfig\":{\"footer\":{\"message\":\"Enterprise level CLI solution\"},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Guide\",\"link\":\"/guide/\"},{\"text\":\"Usage\",\"link\":\"/usage/\"},{\"text\":\"Reference\",\"link\":\"http://semo.js.org/typedoc/\"}],\"sidebar\":[{\"text\":\"Guide\",\"collapsed\":false,\"items\":[{\"text\":\"Introduction\",\"link\":\"/guide/\"},{\"text\":\"Quick Start\",\"link\":\"/guide/quickstart/\"},{\"text\":\"Core Commands\",\"link\":\"/guide/core-commands/\"},{\"text\":\"Custom Commands\",\"link\":\"/guide/custom-commands/\"},{\"text\":\"Configuration Management\",\"link\":\"/guide/config/\"},{\"text\":\"Hook Mechanism\",\"link\":\"/guide/hook/\"},{\"text\":\"Plugin Development\",\"link\":\"/guide/plugin/\"}]},{\"text\":\"Usage\",\"collapsed\":false,\"items\":[{\"text\":\"Overview\",\"link\":\"/usage/\"},{\"text\":\"Plugins\",\"link\":\"/usage/plugin/\"},{\"text\":\"Project Integration\",\"link\":\"/usage/integration/\"},{\"text\":\"Solutions\",\"link\":\"/usage/solution/\"},{\"text\":\"Distribution\",\"link\":\"/usage/distribution/\"}]},{\"text\":\"Community\",\"collapsed\":false,\"items\":[{\"text\":\"How to Contribute\",\"link\":\"/community/contrib/\"},{\"text\":\"Frequently Asked Questions\",\"link\":\"/community/qa/\"}]}]}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>