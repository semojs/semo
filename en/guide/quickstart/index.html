<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Get started | Semo</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="A Node.js CLI building rules.">
    
    <link rel="preload" href="/assets/css/0.styles.992cb7aa.css" as="style"><link rel="preload" href="/assets/js/app.40d25f32.js" as="script"><link rel="preload" href="/assets/js/2.c8f551f9.js" as="script"><link rel="preload" href="/assets/js/12.e405fa04.js" as="script"><link rel="prefetch" href="/assets/js/10.e10ec60f.js"><link rel="prefetch" href="/assets/js/11.59c070fc.js"><link rel="prefetch" href="/assets/js/13.64b1feea.js"><link rel="prefetch" href="/assets/js/14.8873c437.js"><link rel="prefetch" href="/assets/js/15.3c1595a5.js"><link rel="prefetch" href="/assets/js/16.b1b1c71d.js"><link rel="prefetch" href="/assets/js/17.b155d6eb.js"><link rel="prefetch" href="/assets/js/18.6730a008.js"><link rel="prefetch" href="/assets/js/19.bdefffb3.js"><link rel="prefetch" href="/assets/js/20.5831d239.js"><link rel="prefetch" href="/assets/js/21.7deee7a8.js"><link rel="prefetch" href="/assets/js/22.dd1d3069.js"><link rel="prefetch" href="/assets/js/23.d30e906a.js"><link rel="prefetch" href="/assets/js/24.e64e645a.js"><link rel="prefetch" href="/assets/js/3.b2dce630.js"><link rel="prefetch" href="/assets/js/4.09fd2c39.js"><link rel="prefetch" href="/assets/js/5.b99a1609.js"><link rel="prefetch" href="/assets/js/6.ffe6f60a.js"><link rel="prefetch" href="/assets/js/7.f056ed1e.js"><link rel="prefetch" href="/assets/js/8.7f59801b.js"><link rel="prefetch" href="/assets/js/9.bd50b831.js">
    <link rel="stylesheet" href="/assets/css/0.styles.992cb7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><!----> <span class="site-name">Semo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/usage/" class="nav-link">
  Usage
</a></div><div class="nav-item"><a href="http://semo.js.org/typedoc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Reference
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/quickstart/" class="nav-link">
  zh-CN
</a></li><li class="dropdown-item"><!----> <a href="/en/guide/quickstart/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  en-US
</a></li></ul></div></div> <a href="https://github.com/semojs/semo" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/usage/" class="nav-link">
  Usage
</a></div><div class="nav-item"><a href="http://semo.js.org/typedoc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Reference
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/quickstart/" class="nav-link">
  zh-CN
</a></li><li class="dropdown-item"><!----> <a href="/en/guide/quickstart/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  en-US
</a></li></ul></div></div> <a href="https://github.com/semojs/semo" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/guide/quickstart/" class="sidebar-link">快速上手</a></li><li><a href="/guide/core-commands/" class="sidebar-link">核心命令</a></li><li><a href="/guide/custom-commands/" class="sidebar-link">自定义命令</a></li><li><a href="/guide/config/" class="sidebar-link">配置管理</a></li><li><a href="/guide/hook/" class="sidebar-link">钩子机制</a></li><li><a href="/guide/plugin/" class="sidebar-link">插件开发</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Usage</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/usage/" class="sidebar-link">概述</a></li><li><a href="/usage/plugin/" class="sidebar-link">插件</a></li><li><a href="/usage/integration/" class="sidebar-link">项目整合</a></li><li><a href="/usage/solution/" class="sidebar-link">解决方案</a></li><li><a href="/usage/distribution/" class="sidebar-link">发行版</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Community</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/community/contrib/" class="sidebar-link">如何贡献</a></li><li><a href="/community/qa/" class="sidebar-link">常见问题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="get-started"><a href="#get-started" class="header-anchor">#</a> Get started</h1> <h2 id="global-installation"><a href="#global-installation" class="header-anchor">#</a> Global Installation</h2> <p><code>Semo</code> is also a developer tool to help development, devops and debug. So you can install it globally.</p> <div class="language- extra-class"><pre class="language-text"><code>$ npm i -g @semo/cli
$ semo help
semo

Execute a Semo style command file

Commands:
  semo                                Execute a Semo style command file                                        [default]
  semo cleanup [type]                 Cleanup internal caches.                                          [aliases: clean]
  semo completion                     Generate completion script
  semo config &lt;op&gt;                    Manage rc config                                                    [aliases: cfg]
  semo create &lt;name&gt; [repo] [branch]  Create a new project from specific repo                               [aliases: c]
  semo generate &lt;component&gt;           Generate component sample code                                        [aliases: g]
  semo init                           Init basic config file and directories                                [aliases: i]
  semo repl                           Play with REPL                                                        [aliases: r]
  semo run [plugin]                   Run any plugin command directly
  semo status                         Show environment status info                                         [aliases: st]
  semo version                        Show version number

Options:
  -h, --help     Show help                                                                                     [boolean]
  -v, --version  Show version number                                                                           [boolean]

Examples:
  semo run hello-world                                        Run a remote plugin command.
  semo run --with project-templates — create PROJECT_NAME -T  Clone project template as a starter.
  semo repl --require lodash:_                                Start Semo repl and inject lodash object to _.
  semo generate command test                                  Generate command template.
  semo clean all                                              Clean all cache files and installed npm packages.

Find more information at https://semo.js.org
</code></pre></div><p>We can see that there are many internal commands, these commands have special usage, Semo provides rules not specific functions, so mostly you need to install plugins.</p> <h2 id="project-integration"><a href="#project-integration" class="header-anchor">#</a> Project integration</h2> <p><code>Semo</code> 的主要使用场景就是为一个已经存在的业务项目添加命令行机制，如果没有 <code>Semo</code>，各个业务项目当然也是可以开发出自己的命令行的，但是这部分基本都属于重复投入，而且不同的团队实现的方案肯定是有差异的，这种差异带来的是维护成本的增加，而企业级开发，降低成本就是提高利润。</p> <p><code>Semo</code> 's main usage is interated with an existed project to provide CLI machanism. You can implement your own CLI implementation, but different projects have different ways to add CLI, This difference brings about an increase in maintenance costs. For enterprise-level development, reducing costs means increasing profits</p> <div class="language- extra-class"><pre class="language-text"><code>cd YOUR_PROJECT
semo init
</code></pre></div><p>If you just use basic Semo rules, you do not need <code>@semo/core</code>, if you want to use methods of <code>@semo/core</code>, then you need add <code>@semo/core</code> as dependency. There are several usage modes:</p> <ul><li>If you use <code>@semo/core</code> in business logic, you need add <code>@semo/core</code> to <code>package.json</code>'s <code>dependencies</code>.</li> <li>If you do not use <code>@semo/core</code> in business logic, and only use Semo in commands and scripts and these need to use online, then you also need to add <code>@semo/core</code> to <code>package.json</code>'s <code>dependencies</code>.</li> <li>If you do not use <code>@semo/core</code> in business logic, only use REPL in development stage, then you can add <code>@semo/core</code> to <code>package.json</code>'s <code>devDependencies</code>.</li> <li>If Semo CLI not included in docker container, you can add <code>@semo/cli</code>, then use <code>npx semo</code> to trigger commands.</li></ul> <h3 id="add-a-project-command"><a href="#add-a-project-command" class="header-anchor">#</a> Add a project command</h3> <p>You need to plan you project commands levels, it's best not add all command in first level.</p> <p><strong>Define a first level command</strong></p> <div class="language- extra-class"><pre class="language-text"><code>semo generate command test
semo test
</code></pre></div><p><strong>Define a second level command</strong></p> <div class="language- extra-class"><pre class="language-text"><code>npm install semo-plugin-application
semo generate command application/test --extend=application
semo application test
</code></pre></div><p>为了让项目命令和核心以及插件定义的命令隔离，这里推荐的是将项目命令用上面第二种方式添加，同时如果是复杂的项目，还可以继续分层次。当然这样造成了一个问题就是命令的层次增加导致的记忆负担，以及要多输入很多前面的命令才能找到要执行的命令。所以一般，我们在项目里还需要为运行环境的 <code>bashrc</code> 增加几个 <code>alias</code>:</p> <p><strong>假设线上环境是用 Docker 容器部署的</strong></p> <div class="language- extra-class"><pre class="language-text"><code>// Dockerfile
RUN echo 'alias semo=&quot;npx semo&quot;' &gt;&gt; /home/node/.bashrc
RUN echo 'alias app=&quot;npx semo app&quot;' &gt;&gt; /home/node/.bashrc
</code></pre></div><p>这面的命令演示了缩减命令长度的方法，在实际使用过程中，如果命令分层特别深，这里可以多定义一些 <code>alias</code>。</p> <h2 id="开发插件"><a href="#开发插件" class="header-anchor">#</a> 开发插件</h2> <p>如果不是在项目中使用 <code>Semo</code>，仅仅是要快速实现一些脚本命令，帮助自己提高工作效率，这时你可以使用 <code>Semo</code> 快速开始。</p> <div class="language- extra-class"><pre class="language-text"><code>cd ~/.semo/node_modules # 这个目录下定义的插件会全局加载
semo create semo-plugin-xxx --template=plugin # 选择插件模板
cd semo-plugin-xxx
semo hi # # 默认里面有一个示例命令
code . # 用 Vscode 开始开发
yarn watch # 基于 `Typescript` 开发，需要实时编译
</code></pre></div><p>如果你对插件很满意，想和其他人分享，你直接将你的代码发布到 <code>npm</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>git remove add origin GIT_REPO_URL
git add .
git commit -m 'init'
npm login
npm version patch &amp;&amp; npm publish
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注意，<code>Semo</code> 不保证每个插件定义命令的隔离性，所以如果插件安装的多了，可能会有些命令因重名而相互覆盖，但是日常使用中很少有这种情况发生，为了简单，这里没有做特殊的设计。</p></div> <h2 id="安装别人开发的插件"><a href="#安装别人开发的插件" class="header-anchor">#</a> 安装别人开发的插件</h2> <p>如果打开 package.json，你会发现在插件模板里，<code>semo</code> 放在了 <code>peerDependencies</code>，也就是所有的插件如果要生效，需要和 <code>semo</code> 一起安装。</p> <div class="language- extra-class"><pre class="language-text"><code>npm i -g @semo/cli semo-plugin-xxx
</code></pre></div><p>如果别人的插件仅仅是定义了一些你需要的命令，则你可以把命令安装在全局，如果别人的插件在业务项目中要用，则要放到项目依赖当中。</p> <div class="language- extra-class"><pre class="language-text"><code>cd YOUR_PROJECT
npm install semo-plugin-xxx
yarn add semo-plugin-xxx // 或
</code></pre></div><p>由于 <code>Semo</code> 的插件同时也是一个 <code>Node</code> 模块，因此，我们也可以在插件中定义一些库函数，被别人在项目中引入</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> lib <span class="token keyword">from</span> <span class="token string">'semo-plugin-xxx'</span>
</code></pre></div><p>利用 <code>Semo</code> 提供的钩子机制，也可以使用另一种风格来使用插件提供的业务逻辑支持。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Utils <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@semo/core'</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> xxx <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> Utils<span class="token punctuation">.</span><span class="token function">invokeHook</span><span class="token punctuation">(</span><span class="token string">'semo:component'</span><span class="token punctuation">)</span>
</code></pre></div><p>可以看到，在后面这种方式中，不需要显示引入包，只需要安装了即可，这种方式是使用的目录扫描的方式，性能是比较差的，而且没有IDE自动提示的支持，但是对命令行这个场景来说，代码风格简单统一也不错。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/semojs/semo/edit/master/docs/en/guide/quickstart/README.md" target="_blank" rel="noopener noreferrer">Help improve this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.40d25f32.js" defer></script><script src="/assets/js/2.c8f551f9.js" defer></script><script src="/assets/js/12.e405fa04.js" defer></script>
  </body>
</html>
