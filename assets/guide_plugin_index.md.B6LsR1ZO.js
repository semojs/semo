import{_ as s,v as e}from"./chunks/framework.BDQCoPbP.js";import"./chunks/theme.BviwZWD4.js";const c=JSON.parse('{"title":"Plugin Development","description":"","frontmatter":{},"headers":[],"relativePath":"guide/plugin/index.md","filePath":"guide/plugin/index.md"}'),a={name:"guide/plugin/index.md"};function n(t,i,o,l,p,r){return e.openBlock(),e.createElementBlock("div",null,i[0]||(i[0]=[e.createStaticVNode(`<h1 id="plugin-development" tabindex="-1">Plugin Development <a class="header-anchor" href="#plugin-development" aria-label="Permalink to &quot;Plugin Development&quot;">​</a></h1><h2 id="quick-start" tabindex="-1">Quick Start <a class="header-anchor" href="#quick-start" aria-label="Permalink to &quot;Quick Start&quot;">​</a></h2><p>A <code>Semo</code> plugin is a standard <code>Node</code> module, but it needs to conform to certain directory and file structure conventions. Since these conventions are often hard to remember, we provide various auxiliary tools for plugin developers or tool users, such as code auto-generation. This describes the recommended plugin development process, but after becoming familiar with it, you can also manually build a plugin starting from an empty directory.</p><h3 id="first-step-create-plugin-directory-based-on-template" tabindex="-1">First Step: Create plugin directory based on template <a class="header-anchor" href="#first-step-create-plugin-directory-based-on-template" aria-label="Permalink to &quot;First Step: Create plugin directory based on template&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo create semo-plugin-xyz --template=plugin</span></span></code></pre></div><p>This uses the built-in plugin template. As mentioned in the configuration management section, we can completely override the <code>repo</code> and <code>branch</code> options, or override the <code>--template</code> option to avoid passing default parameters every time.</p><h3 id="second-step-enter-the-plugin-directory-execute-the-default-command-prove-everything-is-normal" tabindex="-1">Second Step: Enter the plugin directory, execute the default command, prove everything is normal <a class="header-anchor" href="#second-step-enter-the-plugin-directory-execute-the-default-command-prove-everything-is-normal" aria-label="Permalink to &quot;Second Step: Enter the plugin directory, execute the default command, prove everything is normal&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd semo-plugin-xyz</span></span>
<span class="line"><span>semo hi</span></span></code></pre></div><p>This is a command built into the plugin template. After initialization is complete, enter the directory to execute it, completing your first interaction with the plugin command. If you see it answer you <code>Hey you!</code>, it means it&#39;s ready, and you can start writing scripts that truly change the world.</p><h2 id="adding-commands" tabindex="-1">Adding Commands <a class="header-anchor" href="#adding-commands" aria-label="Permalink to &quot;Adding Commands&quot;">​</a></h2><p>Note that this plugin template is based on <code>Typescript</code>, so you need some <code>Typescript</code> foundation. During development, it&#39;s recommended to keep the <code>pnpm watch</code> command window open for real-time compilation, allowing development and testing simultaneously.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo generate command xyz</span></span></code></pre></div><p>Generally, the plugin name and the commands encapsulated by the plugin have some association. Here we add an <code>xyz</code> command, but you can also modify the previous <code>hi</code> command. Once you truly master plugin development, the default <code>hi</code> command should be deleted.</p><h2 id="implementing-hooks" tabindex="-1">Implementing Hooks <a class="header-anchor" href="#implementing-hooks" aria-label="Permalink to &quot;Implementing Hooks&quot;">​</a></h2><p>Implementing hooks is another purpose of developing plugins. Hooks are often defined by other plugins or business projects. By implementing hooks, you can influence and change the behavior of other plugins.</p><p>Query which hooks are supported in the current environment with this command:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo hook list</span></span></code></pre></div><h3 id="example-1-implement-hook-create-project-template" tabindex="-1">Example 1: Implement <code>hook_create_project_template</code> <a class="header-anchor" href="#example-1-implement-hook-create-project-template" aria-label="Permalink to &quot;Example 1: Implement \`hook_create_project_template\`&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/hooks/index.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> semo__hook_create_project_template</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  demo_repo: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    repo: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;demo_repo.git&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    branch: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;master&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    alias: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;demo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Through this hook, when the <code>semo create [PROJECT] --template</code> command is executed, we can select custom project templates. We only need to remember the alias, not the address. Another benefit is that we don&#39;t need to care how each engineer has set the global <code>--repo</code> option on their personal computer. As long as the specified plugin is installed, everyone can initialize projects using the same project alias.</p><h3 id="example-2-implement-hook-repl" tabindex="-1">Example 2: Implement <code>hook_repl</code> <a class="header-anchor" href="#example-2-implement-hook-repl" aria-label="Permalink to &quot;Example 2: Implement \`hook_repl\`&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/hooks/index.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> hook_repl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  semo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Note: Original code had \`semo: () {\` which is invalid JS/TS. Assuming it meant \`semo: () =&gt; {\` or \`semo: function() {\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      multiple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Then in the REPL environment, you can use it:</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Information returned by <code>hook_repl</code> is injected into the <code>Semo.hooks.application</code> object in the REPL.</p></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo repl</span></span>
<span class="line"><span>&gt;&gt;&gt; Semo.hooks.application.add</span></span>
<span class="line"><span>[Function: add]</span></span>
<span class="line"><span>&gt;&gt;&gt; await Semo.hooks.application.add(1, 2)</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>&gt;&gt;&gt; Semo.hooks.application.multiple</span></span>
<span class="line"><span>[Function: multiple]</span></span>
<span class="line"><span>&gt;&gt;&gt; await Semo.hooks.application.multiple(3, 4)</span></span>
<span class="line"><span>12</span></span></code></pre></div><p>Plugins and business projects have different starting points when implementing this hook. Business projects generally inject specific business logic, while plugins typically inject common methods with a certain degree of reusability, such as instance methods of underlying services, commonly used libraries, etc.</p><h2 id="exposing-methods" tabindex="-1">Exposing Methods <a class="header-anchor" href="#exposing-methods" aria-label="Permalink to &quot;Exposing Methods&quot;">​</a></h2><p>Another fundamental purpose of implementing plugins is to act as a module, exposing instances, methods, or libraries externally. In this case, on one hand, we can define modules in a standard way, for example:</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Since <code>Semo</code> later introduced the <code>run</code> command, and this command relies on the entry file for location, <code>Semo</code> plugins are required to declare an entry point, regardless of whether this entry point exposes methods.</p></div><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lib/index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// index.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> func</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span></code></pre></div><h2 id="publishing-plugins" tabindex="-1">Publishing Plugins <a class="header-anchor" href="#publishing-plugins" aria-label="Permalink to &quot;Publishing Plugins&quot;">​</a></h2><p>By extending through commands, hooks, or libraries, we have written a <code>Semo</code> plugin. If you want to share your plugin with others, some preparation is needed.</p><h3 id="_1-upload-code-to-a-git-repository" tabindex="-1">1. Upload code to a <code>git</code> repository <a class="header-anchor" href="#_1-upload-code-to-a-git-repository" aria-label="Permalink to &quot;1. Upload code to a \`git\` repository&quot;">​</a></h3><p>If it&#39;s open source, you can choose <code>Github</code>. If it&#39;s an internal plugin, upload it to the internal repository, which might be a <code>Github</code> private repository or the company&#39;s <code>Gitlab</code> repository.</p><h3 id="_2-modify-package-json" tabindex="-1">2. Modify <code>package.json</code> <a class="header-anchor" href="#_2-modify-package-json" aria-label="Permalink to &quot;2. Modify \`package.json\`&quot;">​</a></h3><p>Mainly package name, version, license, repository URL, homepage address, etc.</p><p>If it&#39;s an internal plugin, you might modify the <code>registry</code> address in the <code>.npmrc</code> file.</p><h3 id="_3-obtain-an-npm-repository-account-and-log-in" tabindex="-1">3. Obtain an npm repository account and log in <a class="header-anchor" href="#_3-obtain-an-npm-repository-account-and-log-in" aria-label="Permalink to &quot;3. Obtain an npm repository account and log in&quot;">​</a></h3><p>If it&#39;s an open source plugin, you can register at <code>https://npmjs.org</code>. If it&#39;s a privately deployed <code>npm</code> repository, you can get an account from the operations team.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm login --registry=[YOUR_REGISTRY]</span></span></code></pre></div><h3 id="_4-test-the-plugin-package" tabindex="-1">4. Test the plugin package <a class="header-anchor" href="#_4-test-the-plugin-package" aria-label="Permalink to &quot;4. Test the plugin package&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm pack --dry-run</span></span></code></pre></div><p>Through package testing, check if the package contains unnecessary files and adjust the configuration of the <code>.npmignore</code> file.</p><h3 id="_5-publish-your-plugin" tabindex="-1">5. Publish your plugin <a class="header-anchor" href="#_5-publish-your-plugin" aria-label="Permalink to &quot;5. Publish your plugin&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm version [patch|minor|major]</span></span>
<span class="line"><span>npm publish</span></span></code></pre></div><h3 id="_6-promote-the-plugin-share-development-experience" tabindex="-1">6. Promote the plugin, share development experience <a class="header-anchor" href="#_6-promote-the-plugin-share-development-experience" aria-label="Permalink to &quot;6. Promote the plugin, share development experience&quot;">​</a></h3><p>Even good wine needs promotion. Write good documentation and actively promote it to get others to use it and provide feedback.</p><h3 id="_7-actively-maintain" tabindex="-1">7. Actively maintain <a class="header-anchor" href="#_7-actively-maintain" aria-label="Permalink to &quot;7. Actively maintain&quot;">​</a></h3><p>Any npm package can potentially become outdated or have security risks. We need to actively maintain it to ensure the plugin performs its intended function.</p><h2 id="plugin-levels" tabindex="-1">Plugin Levels <a class="header-anchor" href="#plugin-levels" aria-label="Permalink to &quot;Plugin Levels&quot;">​</a></h2><p>Semo&#39;s plugin system scans multiple locations to increase flexibility, with each level corresponding to different purposes and limitations.</p><ul><li>Installed globally via <code>npm install -g semo-plugin-xxx</code>. The installed plugin commands are globally available. This is <code>npm</code>&#39;s default way of installing global packages.</li><li>Installed to the home directory&#39;s <code>.semo/home-plugin-cache</code> directory via <code>semo plugin install semo-plugin-xxx</code>. The installed plugin commands are also globally available. This method can be used in situations where the current user doesn&#39;t have permission to install globally using npm.</li><li>Installed to the current project directory via <code>npm install semo-plugin-xxx</code>. Plugin commands installed this way only take effect within the current project.</li></ul><p>Why would some plugins need to be installed globally? Because plugins can not only implement our project&#39;s business requirements but also our development toolchain, and even some non-business small functions. With imagination, any terminal function is possible. They can be entirely handwritten or encapsulate and integrate other excellent projects, which are not limited by language or language extension package repositories.</p><h2 id="running-remote-plugins-directly" tabindex="-1">Running Remote Plugins Directly <a class="header-anchor" href="#running-remote-plugins-directly" aria-label="Permalink to &quot;Running Remote Plugins Directly&quot;">​</a></h2><p>This is just an illusion; they still need to be downloaded locally, but the download directory is separate, so it won&#39;t interfere with your implementation. You can freely test any plugins you are interested in.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo run semo-plugin-serve</span></span></code></pre></div><p>This plugin&#39;s function is to provide a simple HTTP service. It will be downloaded on the first run, and subsequent runs will reuse the previously downloaded plugin. Use <code>--force</code> to force an update.</p><h2 id="special-home-directory-plugin" tabindex="-1">Special Home Directory Plugin <a class="header-anchor" href="#special-home-directory-plugin" aria-label="Permalink to &quot;Special Home Directory Plugin&quot;">​</a></h2><blockquote><p>This feature introduced in <code>v0.8.0</code></p></blockquote><p>To add global configurations for <code>Semo</code>, we need to add a <code>.semorc.yml</code> configuration file in the <code>~/.semo</code> directory. Once this configuration file is established, the <code>.semo</code> directory is automatically recognized as a global plugin (other global plugins are in the <code>~/.semo/home-plugin-cache</code> directory). You can define some of your own commands, extend commands of other plugins, extend hooks of other plugins, etc., within this plugin. This special plugin is globally recognizable. Also, because it exists by default, if you have some logic that is commonly used locally and you don&#39;t want to publish it as an npm package, you can quickly start here. Of course, be aware that its globally available nature means errors can also affect the local global environment.</p><p>We haven&#39;t preset the implementation method for this special plugin, meaning you can write it in <code>js</code> or <code>typescript</code>. You can use the <code>semo init</code> command to initialize the basic directory structure, or use <code>semo create .semo --template=plugin</code> to regenerate a <code>.semo</code> directory using a template (you need to back up the <code>.semo</code> directory beforehand and then merge the contents back).</p><h2 id="recognizing-plugins-in-arbitrary-directories" tabindex="-1">Recognizing Plugins in Arbitrary Directories <a class="header-anchor" href="#recognizing-plugins-in-arbitrary-directories" aria-label="Permalink to &quot;Recognizing Plugins in Arbitrary Directories&quot;">​</a></h2><p>We can see <code>pluginDir</code> in the configuration file. If this parameter is manually specified during command execution, it can achieve the purpose of arbitrary specification, and it also supports multiple directories:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>semo help --plugin-dir=dir1 --plugin-dir=dir2</span></span></code></pre></div><p>Additionally, it supports specification via constants:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>SEMO_PLUGIN_DIR=dir3 semo help</span></span></code></pre></div><h2 id="plugin-active-registration-mechanism" tabindex="-1">Plugin Active Registration Mechanism <a class="header-anchor" href="#plugin-active-registration-mechanism" aria-label="Permalink to &quot;Plugin Active Registration Mechanism&quot;">​</a></h2><blockquote><p>Introduced in <code>v1.3.0</code></p></blockquote><p>Early <code>Semo</code> only supported the automatic registration mechanism for plugins. For flexibility, it could traverse multiple locations, incurring some IO performance loss. Therefore, the active registration mechanism was added. Once the active registration mechanism is used, the automatic registration mechanism is automatically disabled.</p><h3 id="how-to-enable" tabindex="-1">How to Enable <a class="header-anchor" href="#how-to-enable" aria-label="Permalink to &quot;How to Enable&quot;">​</a></h3><p>Write key-value pairs for plugins under the <code>$plugins.register</code> section in <code>.semorc.yml</code>.</p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">$plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    plugin-a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/absolute/path</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    plugin-b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./relative/path</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    plugin-c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">~relative/path/from/home</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Or interpreted as module path</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    plugin-d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Use Node.js module resolution</span></span></code></pre></div><p>Four styles are supported: absolute paths and relative paths (starting with <code>./</code>) are easy to understand. The third (<code>~</code>) typically refers to the home directory but might also be interpreted as part of a module path depending on implementation. The fourth (<code>true</code>) uses Node.js&#39;s module loading mechanism to declare. For the plugin name used as the key, the <code>semo-plugin-</code> prefix can be omitted here.</p>`,74)]))}const u=s(a,[["render",n]]);export{c as __pageData,u as default};
